function setIntervalEE(a,b,c){var d=0,e=window.setInterval(function(){b&&ee_start||!b&&document.cookie.match("(?:^|;)\\s*(_ga=|__utma=|_eecid=)([^;]*)")?(a(),window.clearInterval(e)):++d>5&&(c&&(setTimeout(function(){a()},ee_generate),ee_generate+=1e3),window.clearInterval(e))},1e3)}var ee_start=0,ee_generate=0,ee_product={click:function(a,b,c){$.ajax({url:"index.php?route=extension/module/ee_tracking/click",type:"post",data:{product_id:a,position:b,type:c,url:window.location.href,title:document.title},dataType:"json",success:function(a){a&&console.log(a)},error:function(a,b,c){$.post("index.php?route=extension/module/ee_tracking/clicklog",{error:c+" (exc: "+b+" status: "+a.statusText+")",url:window.location.href},function(a){a&&console.log(a)})}})}},ee_promotion={click:function(a,b){$.ajax({url:"index.php?route=extension/module/ee_tracking/promotionclick",type:"post",data:{banner_id:a,position:b,url:window.location.href,title:document.title},dataType:"json",success:function(a){a&&console.log(a)},error:function(a,b,c){$.post("index.php?route=extension/module/ee_tracking/promotionlog",{error:c+" (exc: "+b+" status: "+a.statusText+")",url:window.location.href},function(a){console.log(a)})}})}};$(document).ready(function(){$(document).on("click","[onclick*='cart.add']",function(){var b=$(this).attr("onclick").replace(/'/g,"").replace("cart.add(","").replace(");","").split(",");b[0]&&$.ajax({url:"index.php?route=extension/module/ee_tracking/quickaddtocart",type:"post",data:{product_id:b[0],quantity:isNaN(b[1])?$(this).parent().parent().find("input[name='quantity']").val():b[1],type:$(this).data("eet-type"),position:$(this).data("eet-position"),url:window.location.href,title:document.title},dataType:"json",success:function(a){a&&console.log(a)},error:function(a,b,c){$.post("index.php?route=extension/module/ee_tracking/addtocartlog",{error:c+" (exc: "+b+" status: "+a.statusText+")",url:window.location.href},function(a){a&&console.log(a)})}})}),$(document).on("click","[onclick*='addToCart']",function(){var b=$(this).attr("onclick").replace(/'/g,"").replace("addToCart(","").replace(");","").split(",");b[0]&&$.ajax({url:"index.php?route=extension/module/ee_tracking/quickaddtocart",type:"post",data:{product_id:b[0],quantity:isNaN(b[1])?$(this).parent().parent().find("input[name='quantity']").val():b[1],type:$(this).data("eet-type"),position:$(this).data("eet-position"),url:window.location.href,title:document.title},dataType:"json",success:function(a){a&&console.log(a)},error:function(a,b,c){$.post("index.php?route=extension/module/ee_tracking/addtocartlog",{error:c+" (exc: "+b+" status: "+a.statusText+")",url:window.location.href},function(a){a&&console.log(a)})}})}),$("#button-cart").on("click",function(){var a=$(this).parent().parent().find("input[name='product_id']").val(),b=$(this).parent().parent().find("input[name='quantity']").val();$.ajax({url:"index.php?route=extension/module/ee_tracking/addtocart",type:"post",data:{product_id:isNaN(a)?$("input[name='product_id']").val():a,quantity:isNaN(b)?$("input[name='quantity']").val():b,type:"product",option:$("[name^='option']").serializeArray(),url:window.location.href,title:document.title},dataType:"json",success:function(a){a&&console.log(a)},error:function(a,b,c){$.post("index.php?route=extension/module/ee_tracking/addtocartlog",{error:c+" (exc: "+b+" status: "+a.statusText+")",url:window.location.href},function(a){a&&console.log(a)})}})}),-1!==$.inArray($.trim(document.location.pathname+document.location.search),["false"])&&setIntervalEE(function(){$.ajax({url:"index.php?route=extension/module/ee_tracking/checkout",type:"post",data:{step:1,step_option:"custom checkout",url:window.location.href,title:document.title},dataType:"json",success:function(a){a&&console.log(a)},error:function(a,b,c){$.post("index.php?route=extension/module/ee_tracking/checkoutlog",{error:c+" (exc: "+b+" status: "+a.statusText+")",url:window.location.href},function(a){a&&console.log(a)})}})},0,0)});